/* Background layer with enhanced 3D effects */
.backgroundLayer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: 1;
}

/* Gradient mesh for 3D depth effect - Layer 1 */
.gradientMesh {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background:
    radial-gradient(circle at 15% 30%, rgba(184, 107, 255, 0.12) 0%, transparent 35%),
    radial-gradient(circle at 85% 25%, rgba(0, 243, 255, 0.12) 0%, transparent 35%),
    radial-gradient(circle at 45% 75%, rgba(0, 255, 204, 0.12) 0%, transparent 35%),
    radial-gradient(circle at 70% 60%, rgba(79, 195, 247, 0.08) 0%, transparent 30%),
    radial-gradient(circle at 30% 80%, rgba(240, 147, 251, 0.08) 0%, transparent 30%);
  mask-image: radial-gradient(circle at center, black 0%, transparent 70%);
  animation: float 25s ease-in-out infinite;
}

/* Particle layer for subtle animation - Layer 2 */
.particleLayer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.particleLayer::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background:
    radial-gradient(circle at 25% 35%, rgba(184, 107, 255, 0.08) 0px, transparent 1px) 0 0,
    radial-gradient(circle at 75% 65%, rgba(0, 243, 255, 0.08) 0px, transparent 1px) 0 0,
    radial-gradient(circle at 50% 20%, rgba(79, 195, 247, 0.06) 0px, transparent 1px) 0 0;
  background-size: 180px 180px;
  animation: twinkle 8s ease-in-out infinite alternate;
}

.particleLayer::after {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background:
    conic-gradient(from 0deg at 40% 50%, transparent 0deg, rgba(184, 107, 255, 0.05) 90deg, transparent 180deg),
    conic-gradient(from 180deg at 60% 50%, transparent 0deg, rgba(0, 243, 255, 0.05) 90deg, transparent 180deg);
  animation: rotate 30s linear infinite;
  opacity: 0.4;
}

/* Additional depth layer - Layer 3 */
.depthLayer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background:
    linear-gradient(135deg, rgba(0, 243, 255, 0.04) 0%, rgba(184, 107, 255, 0.04) 50%, rgba(0, 255, 204, 0.04) 100%),
    linear-gradient(45deg, rgba(79, 195, 247, 0.03) 0%, rgba(240, 147, 251, 0.03) 100%);
  opacity: 0.6;
  animation: depthShift 40s ease-in-out infinite alternate;
}

/* Geometric pattern layer - Layer 4 */
.geometricLayer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background:
    linear-gradient(60deg, transparent 49%, rgba(184, 107, 255, 0.06) 50%, transparent 51%),
    linear-gradient(-60deg, transparent 49%, rgba(0, 243, 255, 0.06) 50%, transparent 51%),
    linear-gradient(120deg, transparent 49%, rgba(79, 195, 247, 0.04) 50%, transparent 51%),
    linear-gradient(-120deg, transparent 49%, rgba(240, 147, 251, 0.04) 50%, transparent 51%);
  background-size: 100px 100px;
  animation: slideGeometric 20s linear infinite;
  opacity: 0.3;
}

/* Animation keyframes */
@keyframes float {
  0%, 100% {
    transform: translate(0, 0) rotate(0deg);
  }
  25% {
    transform: translate(10px, -15px) rotate(0.5deg);
  }
  50% {
    transform: translate(-15px, 10px) rotate(-0.5deg);
  }
  75% {
    transform: translate(15px, 15px) rotate(0.3deg);
  }
}

@keyframes twinkle {
  0% {
    opacity: 0.2;
  }
  100% {
    opacity: 0.6;
  }
}

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes depthShift {
  0% {
    opacity: 0.4;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
  100% {
    opacity: 0.4;
    transform: scale(1);
  }
}

@keyframes slideGeometric {
  0% {
    background-position: 0 0, 0 0, 0 0, 0 0;
  }
  100% {
    background-position: 100px 100px, -100px -100px, 50px -50px, -50px 50px;
  }
}

/* Performance optimization for animations */
@media (prefers-reduced-motion: no-preference) {
  .gradientMesh,
  .particleLayer,
  .depthLayer,
  .geometricLayer {
    will-change: transform, background-position, opacity;
  }
}

/* High performance animation settings */
@media (min-width: 768px) {
  .gradientMesh,
  .particleLayer,
  .depthLayer,
  .geometricLayer {
    /* Use hardware acceleration for larger screens */
    transform: translateZ(0);
  }
}

/* Loading state styles */
.loadingOverlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--ifm-background-color);
  z-index: 10;
  opacity: 1;
  transition: opacity 0.3s ease;
}

.backgroundLoaded .loadingOverlay {
  opacity: 0;
  pointer-events: none;
}

.loadingSpinner {
  width: 40px;
  height: 40px;
  border: 4px solid rgba(0, 243, 255, 0.2);
  border-top: 4px solid var(--ifm-color-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .gradientMesh,
  .particleLayer,
  .depthLayer,
  .geometricLayer {
    animation: none;
  }

  .particleLayer::before,
  .particleLayer::after {
    animation: none;
  }

  .loadingSpinner {
    animation: none;
  }
}